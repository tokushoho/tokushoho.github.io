<!DOCTYPE html>
<title>特定商取引法に基づく表記</title>
<meta charset="utf-8">
<meta name="viewport" content="width = device-width, initial-scale = 1, user-scalable = no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<div class="container">
    <div class="row" >
        <div class="col-10" style="margin: 40px 0;" id=main>
            <h3>特定商取引法に基づく表記</h3>
            <table class="table table-bordered table table-bordered table-hover">
                <tr>
                    <td width=50% class="table-secondary"><strong>事業者名 </strong> </td>
                    <td id="company"> </td>
                </tr>
                <tr>
                    <td class="table-secondary"><strong>責任者</strong> </td>
                    <td id="charge"> </td>
                </tr>
                <tr>
                    <td class="table-secondary"><strong>所在地</strong> </td>
                    <td id="address"> </td>
                </tr>
                <tr>
                    <td class="table-secondary"><strong>お問い合わせ</strong> </td>
                    <td id="contact"> </td>
                </tr>
                <tr>
                    <td class="table-secondary"><strong>商品等の販売価格</strong> </td>
                    <td id="price"> </td>
                </tr>
                <tr>
                    <td class="table-secondary"><strong>送料などの商品代金以外の付帯費用 </strong> </td>
                    <td id="extra"> </td>
                </tr>
                <tr>
                    <td class="table-secondary"><strong>代金の支払方法 </strong> </td>
                    <td id="payment"> </td>
                </tr>
                <tr>
                    <td class="table-secondary"><strong>商品等の引き渡し時 </strong> </td>
                    <td id="shipping"> </td>
                </tr>
                <tr>
                    <td class="table-secondary"><strong>返品の可否と条件</strong></td>
                    <td id="refund"></td>
                </tr>
            </table>
            <button class="btn btn-primary" onClick="history.back()">戻る</button>
        </div>
    </div>
</div>
<script>
    let getArg = ( arg ) => {
        //getのパラメータを返す。
        var arg =new Object;
        var pair = location.search.substring(1).split('&');
        for (var i = 0; pair[i]; i++) {
            var kv = pair[i].split('=');
            arg[kv[0]] = kv[1];
        }
        return arg;
    }
    var def= new Object;
    arg = getArg();
    //console.log( Object.keys(arg).length );
    if (false) {
        document.getElementById("main").innerHTML =
        '<h3>特定商取引法に基づく表記ジェネレーター</h3>'
        '<p>例)</p>'; 
    } else {
        list ={
            company :"株式会社XXXXXX" , 
            charge : "XXX X太郎" ,
            address　:"XX県XX市XX町XX丁目XX番地" , 
            contact : "xxx@xxxx.com", 
            price : "各Webページに記載" ,
            extra : "ご利用いただくために必要なインターネット接続環境、ソフトウェア、通信料金等はお客様の負担となります。" ,
            payment : "クレジットカードなど" ,
            shipping : "ご購入手続き後、即日でご利用可能です（特別な条件がある場合を除く）。" ,
            refund : "ご購入手続き後のキャンセルはお受けできません。" 
        };
        for( l in list ){ 
            console.log(l);
            document.getElementById( l ).innerText =  ("undefined" !== typeof arg[l]) ?
                decodeURI(arg[l]).substring(0, 64) : list[ l ];
        }
        "true" === arg["edit"] ? console.log("edit exists") : history.replaceState('', '', '/');
    }
</script>

</html>
